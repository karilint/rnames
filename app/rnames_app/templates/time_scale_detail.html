{% extends 'base_generic.html' %}
{% block title %}RNames - Scheme: {{ scheme.id }}{% endblock %}

{% block content %}
<!-- Write your comments here -->
<article>
    <div class="scheme">
        <header class="w3-hide">
            <h2>RNames - Scheme: {{ scheme.ts_name }} ({{ scheme.id }})</h2>
         </header>
         <div>
            <h1 class="w3-left">Scheme: {{ scheme.ts_name }} ({{ scheme.id }})</h1>
            <p class="w3-right icons">
              {% if user.is_authenticated %}
                 <a class="btn btn-default" href="{% url 'time-scale-edit' pk=scheme.pk %}"><span class="fa fa-pencil-square-o"></span></a>
                 <a class="btn btn-default" href="{% url 'time-scale-delete' pk=scheme.pk %}"><span class="fa  fa-trash-o"></span></a>
              {% endif %}
            </p>
          </div>
          <table class="w3-table-all">
            <thead>
              <tr>
                <th>Structed Name</th>
                <th>Order</th>
                {% if user.is_authenticated %}
                  <th>Action</th>
                {% endif %}
              </tr>
            </thead>
            <tbody>
              {% for name in names %}
                <tr>
                  <td>{{ name.structured_name }}</td>
                  <td>{{ name.order }}</td>
                  {% if user.is_authenticated %}
                    <td>
                      <a class="btn btn-default" href="{% url 'binning-scheme-edit-name' pk=name.pk %}"><span class="fa fa-pencil-square-o"></span></a>
                      <a class="btn btn-default" href="{% url 'binning-scheme-delete-name' pk=name.pk %}"><span class="fa  fa-trash-o"></span></a>
                    </td>
                  {% endif %}
                </tr>
              {% endfor %}
            </tbody>
          </table>
          {% if user.is_authenticated %}
            <a href="{% url 'binning-scheme-add-name' pk=scheme.pk %}"><div class="w3-btn w3-grey">Add name</div></a>
            <a href="{% url 'run-binning' scheme_id=scheme.pk %}"><div class="w3-btn w3-green">Run binning</div></a>
          {% endif %}
          {% if page_obj %}
            <h3>Binning results</h3>
            <table class="w3-table-all">
              <thead>
                <tr>
                  <th>Structured Name</th>
                  <th>Oldest Name</th>
                  <th>Youngest Name</th>
                  <th>TS Count</th>
                  <th>References</th>
                  <th>Rule</th>
                </tr>
              </thead>
              <tbody>
                {% for result in page_obj %}
                <tr>
                  <td>{{ result.name }}</td>
                  <td>{{ result.oldest_name }}</td>
                  <td>{{ result.youngest_name }}</td>
                  <td>{{ result.ts_count }}</td>
                  <td>{{ result.refs }}</td>
                  <td>{{ result.rule }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          {% endif %}
      {% load url_replace %}
      {% include 'pagination.html' %}
    </div>
  </article>
{% endblock %}
